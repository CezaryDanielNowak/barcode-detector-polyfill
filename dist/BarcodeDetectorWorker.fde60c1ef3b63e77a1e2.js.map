{"version":3,"sources":["webpack:///webpack/bootstrap fde60c1ef3b63e77a1e2","webpack:///./src/DecoderWorker.js"],"names":["availableFormats","TwoOfFiveEncoding","Code128Encoding","A","B","C","value","Code93Encoding","character","Code39Encoding","ExtendedEncoding","CodaBarEncoding","EAN13Encoding","formats","SecureCodabar","Secure2Of5","Image","ScanImage","allTables","FormatPriority","Multiple","Locations","Rotate","data","width","height","rotation","newData","x","y","push","length","Uint8ClampedArray","BoxFilter","radius","elements","sum","val","i","newVal","tempLength","shift","Scale","r","g","b","IntensityGradient","max","Number","MIN_VALUE","min","MAX_VALUE","horizontalDiff","verticalDiff","Math","abs","diff","greyScale","otsu","histogram","total","sumB","wB","wF","mB","mF","between","threshold1","threshold2","pow","CreateImageData","Converter","table","CreateTable","tempArray","j","CreateScanTable","EnlargeTable","h","w","TempArray","slice","ScaleHeight","scale","avrgRed","avrgGreen","avrgBlue","k","Intersects","rectOne","rectTwo","maxLocalization","maxPos","originalMax","rects","startX","startY","minY","maxY","minX","maxX","newRect","ImgProcessing","avrgLight","round","hist","thresh","feedBack","postMessage","result","success","newTable","yStraighten","img","start","end","average","threshold","newImg","CheckEan13","values","middle","avrg","BinaryConfiguration","binaryString","type","binTemp","count","len","totalBars","splice","secureCount","temp","binTempWhite","TwoOfFiveStartEnd","maximum","TwoOfFiveMax","u","CheckInterleaved","pos","Distribution","totalBinArray","testData","maxLength","blackMax","whiteMax","wideAvrg","narrowAvrg","prevPos","wideValues","indexOf","BinArray","counter","tempBin","upperTolerance","lowerTolerance","isFinite","correction","modMem","narrow","checking","hitIndex","CheckCode128","string","checksum","join","summarizer","startChar","Decode2Of5","DecodeCodaBar","DecodeEAN13","leftSide","trigger","rightSide","decodeFormat","L","G","resultArray","R","weight","CheckCode93","checkOne","checkTwo","failSafe","checkSum","firstCheck","firstBool","secondCheck","secondBool","CheckCode39","DecodeCode39","resultString","special","specialchar","DecodeCode93","DecodeCode128","set","symbol","Code128Format","format","BinaryString","container","tempString","corrections","SlicedArray","subarray","binaryHolder","first","second","Main","allResults","tempObj","tempData","z","scaled","variationData","incrmt","eanStatistics","eanOrder","Selection","Format","Value","bBox","points","key","pointTemp","minPoints","POSITIVE_INFINITY","point","self","onmessage","e","decodeFormats","scan","scanWidth","scanHeight","postOrientation","multiple","FinalResult","id"],"mappings":"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","file":"BarcodeDetectorWorker.fde60c1ef3b63e77a1e2.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fde60c1ef3b63e77a1e2","/* --------------------------------------------------\r\nHybrid ES2015/ESLint'ed fork of Javascript Only Barcode_Reader\r\n\r\nOriginal JOB sourcecode by Eddie Larsson <https://github.com/EddieLa/BarcodeReader>\r\n\r\nThis software is provided under the MIT license, http://opensource.org/licenses/MIT.\r\nAll use of this software must include this\r\ntext, including the reference to the creator of the original source code. The\r\noriginator accepts no responsibility of any kind pertaining to\r\nuse of this software.\r\n\r\nCopyright (c) 2013 Eddie Larsson\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the 'Software'), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n\r\n------------------------ */\r\n\r\nconst availableFormats = [\r\n  'Code128',\r\n  'Code93',\r\n  'Code39',\r\n  'EAN-13',\r\n  '2Of5',\r\n  'Inter2Of5',\r\n  'Codabar'\r\n];\r\n\r\nconst TwoOfFiveEncoding = [\r\n  '00110',\r\n  '10001',\r\n  '01001',\r\n  '11000',\r\n  '00101',\r\n  '10100',\r\n  '01100',\r\n  '00011',\r\n  '10010',\r\n  '01010'\r\n];\r\n\r\nconst Code128Encoding = {\r\n  '212222': {\r\n    A: ' ',\r\n    B: ' ',\r\n    C: '00'\r\n  },\r\n  '222122': {\r\n    A: '!',\r\n    B: '!',\r\n    C: '01'\r\n  },\r\n  '222221': {\r\n    A: '\\'',\r\n    B: '\\'',\r\n    C: '02'\r\n  },\r\n  '121223': {\r\n    A: '#',\r\n    B: '#',\r\n    C: '03'\r\n  },\r\n  '121322': {\r\n    A: '$',\r\n    B: '$',\r\n    C: '04'\r\n  },\r\n  '131222': {\r\n    A: '%',\r\n    B: '%',\r\n    C: '05'\r\n  },\r\n  '122213': {\r\n    A: '&',\r\n    B: '&',\r\n    C: '06'\r\n  },\r\n  '122312': {\r\n    A: '\\'',\r\n    B: '\\'',\r\n    C: '07'\r\n  },\r\n  '132212': {\r\n    A: '(',\r\n    B: '(',\r\n    C: '08'\r\n  },\r\n  '221213': {\r\n    A: ')',\r\n    B: ')',\r\n    C: '09'\r\n  },\r\n  '221312': {\r\n    A: '*',\r\n    B: '*',\r\n    C: '10'\r\n  },\r\n  '231212': {\r\n    A: '+',\r\n    B: '+',\r\n    C: '11'\r\n  },\r\n  '112232': {\r\n    A: ',',\r\n    B: ',',\r\n    C: '12'\r\n  },\r\n  '122132': {\r\n    A: '-',\r\n    B: '-',\r\n    C: '13'\r\n  },\r\n  '122231': {\r\n    A: '.',\r\n    B: '.',\r\n    C: '14'\r\n  },\r\n  '113222': {\r\n    A: '/',\r\n    B: '/',\r\n    C: '15'\r\n  },\r\n  '123122': {\r\n    A: '0',\r\n    B: '0',\r\n    C: '16'\r\n  },\r\n  '123221': {\r\n    A: '1',\r\n    B: '1',\r\n    C: '17'\r\n  },\r\n  '223211': {\r\n    A: '2',\r\n    B: '2',\r\n    C: '18'\r\n  },\r\n  '221132': {\r\n    A: '3',\r\n    B: '3',\r\n    C: '19'\r\n  },\r\n  '221231': {\r\n    A: '4',\r\n    B: '4',\r\n    C: '20'\r\n  },\r\n  '213212': {\r\n    A: '5',\r\n    B: '5',\r\n    C: '21'\r\n  },\r\n  '223112': {\r\n    A: '6',\r\n    B: '6',\r\n    C: '22'\r\n  },\r\n  '312131': {\r\n    A: '7',\r\n    B: '7',\r\n    C: '23'\r\n  },\r\n  '311222': {\r\n    A: '8',\r\n    B: '8',\r\n    C: '24'\r\n  },\r\n  '321122': {\r\n    A: '9',\r\n    B: '9',\r\n    C: '25'\r\n  },\r\n  '321221': {\r\n    A: ':',\r\n    B: ':',\r\n    C: '26'\r\n  },\r\n  '312212': {\r\n    A: ';',\r\n    B: ';',\r\n    C: '27'\r\n  },\r\n  '322112': {\r\n    A: '<',\r\n    B: '<',\r\n    C: '28'\r\n  },\r\n  '322211': {\r\n    A: '=',\r\n    B: '=',\r\n    C: '29'\r\n  },\r\n  '212123': {\r\n    A: '>',\r\n    B: '>',\r\n    C: '30'\r\n  },\r\n  '212321': {\r\n    A: '?',\r\n    B: '?',\r\n    C: '31'\r\n  },\r\n  '232121': {\r\n    A: '@',\r\n    B: '@',\r\n    C: '32'\r\n  },\r\n  '111323': {\r\n    A: 'A',\r\n    B: 'A',\r\n    C: '33'\r\n  },\r\n  '131123': {\r\n    A: 'B',\r\n    B: 'B',\r\n    C: '34'\r\n  },\r\n  '131321': {\r\n    A: 'C',\r\n    B: 'C',\r\n    C: '35'\r\n  },\r\n  '112313': {\r\n    A: 'D',\r\n    B: 'D',\r\n    C: '36'\r\n  },\r\n  '132113': {\r\n    A: 'E',\r\n    B: 'E',\r\n    C: '37'\r\n  },\r\n  '132311': {\r\n    A: 'F',\r\n    B: 'F',\r\n    C: '38'\r\n  },\r\n  '211313': {\r\n    A: 'G',\r\n    B: 'G',\r\n    C: '39'\r\n  },\r\n  '231113': {\r\n    A: 'H',\r\n    B: 'H',\r\n    C: '40'\r\n  },\r\n  '231311': {\r\n    A: 'I',\r\n    B: 'I',\r\n    C: '41'\r\n  },\r\n  '112133': {\r\n    A: 'J',\r\n    B: 'J',\r\n    C: '42'\r\n  },\r\n  '112331': {\r\n    A: 'K',\r\n    B: 'K',\r\n    C: '43'\r\n  },\r\n  '132131': {\r\n    A: 'L',\r\n    B: 'L',\r\n    C: '44'\r\n  },\r\n  '113123': {\r\n    A: 'M',\r\n    B: 'M',\r\n    C: '45'\r\n  },\r\n  '113321': {\r\n    A: 'N',\r\n    B: 'N',\r\n    C: '46'\r\n  },\r\n  '133121': {\r\n    A: 'O',\r\n    B: 'O',\r\n    C: '47'\r\n  },\r\n  '313121': {\r\n    A: 'P',\r\n    B: 'P',\r\n    C: '48'\r\n  },\r\n  '211331': {\r\n    A: 'Q',\r\n    B: 'Q',\r\n    C: '49'\r\n  },\r\n  '231131': {\r\n    A: 'R',\r\n    B: 'R',\r\n    C: '50'\r\n  },\r\n  '213113': {\r\n    A: 'S',\r\n    B: 'S',\r\n    C: '51'\r\n  },\r\n  '213311': {\r\n    A: 'T',\r\n    B: 'T',\r\n    C: '52'\r\n  },\r\n  '213131': {\r\n    A: 'U',\r\n    B: 'U',\r\n    C: '53'\r\n  },\r\n  '311123': {\r\n    A: 'V',\r\n    B: 'V',\r\n    C: '54'\r\n  },\r\n  '311321': {\r\n    A: 'W',\r\n    B: 'W',\r\n    C: '55'\r\n  },\r\n  '331121': {\r\n    A: 'X',\r\n    B: 'X',\r\n    C: '56'\r\n  },\r\n  '312113': {\r\n    A: 'Y',\r\n    B: 'Y',\r\n    C: '57'\r\n  },\r\n  '312311': {\r\n    A: 'Z',\r\n    B: 'Z',\r\n    C: '58'\r\n  },\r\n  '332111': {\r\n    A: '[',\r\n    B: '[',\r\n    C: '59'\r\n  },\r\n  '314111': {\r\n    A: '\\\\',\r\n    B: '\\\\',\r\n    C: '60'\r\n  },\r\n  '221411': {\r\n    A: ']',\r\n    B: ']',\r\n    C: '61'\r\n  },\r\n  '431111': {\r\n    A: '^',\r\n    B: '^',\r\n    C: '62'\r\n  },\r\n  '111224': {\r\n    A: '_',\r\n    B: '_',\r\n    C: '63'\r\n  },\r\n  '111422': {\r\n    A: 'NUL',\r\n    B: '`',\r\n    C: '64'\r\n  },\r\n  '121124': {\r\n    A: 'SOH',\r\n    B: 'a',\r\n    C: '65'\r\n  },\r\n  '121421': {\r\n    A: 'STX',\r\n    B: 'b',\r\n    C: '66'\r\n  },\r\n  '141122': {\r\n    A: 'ETX',\r\n    B: 'c',\r\n    C: '67'\r\n  },\r\n  '141221': {\r\n    A: 'EOT',\r\n    B: 'd',\r\n    C: '68'\r\n  },\r\n  '112214': {\r\n    A: 'ENQ',\r\n    B: 'e',\r\n    C: '69'\r\n  },\r\n  '112412': {\r\n    A: 'ACK',\r\n    B: 'f',\r\n    C: '70'\r\n  },\r\n  '122114': {\r\n    A: 'BEL',\r\n    B: 'g',\r\n    C: '71'\r\n  },\r\n  '122411': {\r\n    A: 'BS',\r\n    B: 'h',\r\n    C: '72'\r\n  },\r\n  '142112': {\r\n    A: 'HT',\r\n    B: 'i',\r\n    C: '73'\r\n  },\r\n  '142211': {\r\n    A: 'LF',\r\n    B: 'j',\r\n    C: '74'\r\n  },\r\n  '241211': {\r\n    A: 'VT',\r\n    B: 'k',\r\n    C: '75'\r\n  },\r\n  '221114': {\r\n    A: 'FF',\r\n    B: 'l',\r\n    C: '76'\r\n  },\r\n  '413111': {\r\n    A: 'CR',\r\n    B: 'm',\r\n    C: '77'\r\n  },\r\n  '241112': {\r\n    A: 'SO',\r\n    B: 'n',\r\n    C: '78'\r\n  },\r\n  '134111': {\r\n    A: 'SI',\r\n    B: 'o',\r\n    C: '79'\r\n  },\r\n  '111242': {\r\n    A: 'DLE',\r\n    B: 'p',\r\n    C: '80'\r\n  },\r\n  '121142': {\r\n    A: 'DC1',\r\n    B: 'q',\r\n    C: '81'\r\n  },\r\n  '121241': {\r\n    A: 'DC2',\r\n    B: 'r',\r\n    C: '82'\r\n  },\r\n  '114212': {\r\n    A: 'DC3',\r\n    B: 's',\r\n    C: '83'\r\n  },\r\n  '124112': {\r\n    A: 'DC4',\r\n    B: 't',\r\n    C: '84'\r\n  },\r\n  '124211': {\r\n    A: 'NAK',\r\n    B: 'u',\r\n    C: '85'\r\n  },\r\n  '411212': {\r\n    A: 'SYN',\r\n    B: 'v',\r\n    C: '86'\r\n  },\r\n  '421112': {\r\n    A: 'ETB',\r\n    B: 'w',\r\n    C: '87'\r\n  },\r\n  '421211': {\r\n    A: 'CAN',\r\n    B: 'x',\r\n    C: '88'\r\n  },\r\n  '212141': {\r\n    A: 'EM',\r\n    B: 'y',\r\n    C: '89'\r\n  },\r\n  '214121': {\r\n    A: 'SUB',\r\n    B: 'z',\r\n    C: '90'\r\n  },\r\n  '412121': {\r\n    A: 'ESC',\r\n    B: '{',\r\n    C: '91'\r\n  },\r\n  '111143': {\r\n    A: 'FS',\r\n    B: '|',\r\n    C: '92'\r\n  },\r\n  '111341': {\r\n    A: 'GS',\r\n    B: '}',\r\n    C: '93'\r\n  },\r\n  '131141': {\r\n    A: 'RS',\r\n    B: '~',\r\n    C: '94'\r\n  },\r\n  '114113': {\r\n    A: 'US',\r\n    B: 'DEL',\r\n    C: '95'\r\n  },\r\n  '114311': {\r\n    A: 'FNC3',\r\n    B: 'FNC3',\r\n    C: '96'\r\n  },\r\n  '411113': {\r\n    A: 'FNC2',\r\n    B: 'FNC2',\r\n    C: '97'\r\n  },\r\n  '411311': {\r\n    A: 'SHIFT_B',\r\n    B: 'SHIFT_A',\r\n    C: '98'\r\n  },\r\n  '113141': {\r\n    A: 'Code_C',\r\n    B: 'Code_C',\r\n    C: '99'\r\n  },\r\n  '114131': {\r\n    A: 'Code_B',\r\n    B: 'FNC4',\r\n    C: 'Code_B'\r\n  },\r\n  '311141': {\r\n    A: 'FNC4',\r\n    B: 'Code_A',\r\n    C: 'Code_A'\r\n  },\r\n  '411131': {\r\n    A: 'FNC1',\r\n    B: 'FNC1',\r\n    C: 'FNC1'\r\n  },\r\n  '211412': 'A',\r\n  '211214': 'B',\r\n  '211232': 'C',\r\n  '233111': {\r\n    A: 'STOP',\r\n    B: 'STOP',\r\n    C: 'STOP'\r\n  },\r\n  value: [\r\n    '212222',\r\n    '222122',\r\n    '222221',\r\n    '121223',\r\n    '121322',\r\n    '131222',\r\n    '122213',\r\n    '122312',\r\n    '132212',\r\n    '221213',\r\n    '221312',\r\n    '231212',\r\n    '112232',\r\n    '122132',\r\n    '122231',\r\n    '113222',\r\n    '123122',\r\n    '123221',\r\n    '223211',\r\n    '221132',\r\n    '221231',\r\n    '213212',\r\n    '223112',\r\n    '312131',\r\n    '311222',\r\n    '321122',\r\n    '321221',\r\n    '312212',\r\n    '322112',\r\n    '322211',\r\n    '212123',\r\n    '212321',\r\n    '232121',\r\n    '111323',\r\n    '131123',\r\n    '131321',\r\n    '112313',\r\n    '132113',\r\n    '132311',\r\n    '211313',\r\n    '231113',\r\n    '231311',\r\n    '112133',\r\n    '112331',\r\n    '132131',\r\n    '113123',\r\n    '113321',\r\n    '133121',\r\n    '313121',\r\n    '211331',\r\n    '231131',\r\n    '213113',\r\n    '213311',\r\n    '213131',\r\n    '311123',\r\n    '311321',\r\n    '331121',\r\n    '312113',\r\n    '312311',\r\n    '332111',\r\n    '314111',\r\n    '221411',\r\n    '431111',\r\n    '111224',\r\n    '111422',\r\n    '121124',\r\n    '121421',\r\n    '141122',\r\n    '141221',\r\n    '112214',\r\n    '112412',\r\n    '122114',\r\n    '122411',\r\n    '142112',\r\n    '142211',\r\n    '241211',\r\n    '221114',\r\n    '413111',\r\n    '241112',\r\n    '134111',\r\n    '111242',\r\n    '121142',\r\n    '121241',\r\n    '114212',\r\n    '124112',\r\n    '124211',\r\n    '411212',\r\n    '421112',\r\n    '421211',\r\n    '212141',\r\n    '214121',\r\n    '412121',\r\n    '111143',\r\n    '111341',\r\n    '131141',\r\n    '114113',\r\n    '114311',\r\n    '411113',\r\n    '411311',\r\n    '113141',\r\n    '114131',\r\n    '311141',\r\n    '411131',\r\n    '211412',\r\n    '211214',\r\n    '211232',\r\n    '233111'\r\n  ]\r\n};\r\n\r\nconst Code93Encoding = {\r\n  '131112': {\r\n    value: 0,\r\n    character: '0'\r\n  },\r\n  '111213': {\r\n    value: 1,\r\n    character: '1'\r\n  },\r\n  '111312': {\r\n    value: 2,\r\n    character: '2'\r\n  },\r\n  '111411': {\r\n    value: 3,\r\n    character: '3'\r\n  },\r\n  '121113': {\r\n    value: 4,\r\n    character: '4'\r\n  },\r\n  '121212': {\r\n    value: 5,\r\n    character: '5'\r\n  },\r\n  '121311': {\r\n    value: 6,\r\n    character: '6'\r\n  },\r\n  '111114': {\r\n    value: 7,\r\n    character: '7'\r\n  },\r\n  '131211': {\r\n    value: 8,\r\n    character: '8'\r\n  },\r\n  '141111': {\r\n    value: 9,\r\n    character: '9'\r\n  },\r\n  '211113': {\r\n    value: 10,\r\n    character: 'A'\r\n  },\r\n  '211212': {\r\n    value: 11,\r\n    character: 'B'\r\n  },\r\n  '211311': {\r\n    value: 12,\r\n    character: 'C'\r\n  },\r\n  '221112': {\r\n    value: 13,\r\n    character: 'D'\r\n  },\r\n  '221211': {\r\n    value: 14,\r\n    character: 'E'\r\n  },\r\n  '231111': {\r\n    value: 15,\r\n    character: 'F'\r\n  },\r\n  '112113': {\r\n    value: 16,\r\n    character: 'G'\r\n  },\r\n  '112212': {\r\n    value: 17,\r\n    character: 'H'\r\n  },\r\n  '112311': {\r\n    value: 18,\r\n    character: 'I'\r\n  },\r\n  '122112': {\r\n    value: 19,\r\n    character: 'J'\r\n  },\r\n  '132111': {\r\n    value: 20,\r\n    character: 'K'\r\n  },\r\n  '111123': {\r\n    value: 21,\r\n    character: 'L'\r\n  },\r\n  '111222': {\r\n    value: 22,\r\n    character: 'M'\r\n  },\r\n  '111321': {\r\n    value: 23,\r\n    character: 'N'\r\n  },\r\n  '121122': {\r\n    value: 24,\r\n    character: 'O'\r\n  },\r\n  '131121': {\r\n    value: 25,\r\n    character: 'P'\r\n  },\r\n  '212112': {\r\n    value: 26,\r\n    character: 'Q'\r\n  },\r\n  '212211': {\r\n    value: 27,\r\n    character: 'R'\r\n  },\r\n  '211122': {\r\n    value: 28,\r\n    character: 'S'\r\n  },\r\n  '211221': {\r\n    value: 29,\r\n    character: 'T'\r\n  },\r\n  '221121': {\r\n    value: 30,\r\n    character: 'U'\r\n  },\r\n  '222111': {\r\n    value: 31,\r\n    character: 'V'\r\n  },\r\n  '112122': {\r\n    value: 32,\r\n    character: 'W'\r\n  },\r\n  '112221': {\r\n    value: 33,\r\n    character: 'X'\r\n  },\r\n  '122121': {\r\n    value: 34,\r\n    character: 'Y'\r\n  },\r\n  '123111': {\r\n    value: 35,\r\n    character: 'Z'\r\n  },\r\n  '121131': {\r\n    value: 36,\r\n    character: '-'\r\n  },\r\n  '311112': {\r\n    value: 37,\r\n    character: '.'\r\n  },\r\n  '311211': {\r\n    value: 38,\r\n    character: ' '\r\n  },\r\n  '321111': {\r\n    value: 39,\r\n    character: '$'\r\n  },\r\n  '112131': {\r\n    value: 40,\r\n    character: '/'\r\n  },\r\n  '113121': {\r\n    value: 41,\r\n    character: '+'\r\n  },\r\n  '211131': {\r\n    value: 42,\r\n    character: '%'\r\n  },\r\n  '121221': {\r\n    value: 43,\r\n    character: '($)'\r\n  },\r\n  '312111': {\r\n    value: 44,\r\n    character: '(%)'\r\n  },\r\n  '311121': {\r\n    value: 45,\r\n    character: '(/)'\r\n  },\r\n  '122211': {\r\n    value: 46,\r\n    character: '(+)'\r\n  },\r\n  '111141': {\r\n    value: -1,\r\n    character: '*'\r\n  }\r\n};\r\n\r\nconst Code39Encoding = {\r\n  '111221211': {\r\n    value: 0,\r\n    character: '0'\r\n  },\r\n  '211211112': {\r\n    value: 1,\r\n    character: '1'\r\n  },\r\n  '112211112': {\r\n    value: 2,\r\n    character: '2'\r\n  },\r\n  '212211111': {\r\n    value: 3,\r\n    character: '3'\r\n  },\r\n  '111221112': {\r\n    value: 4,\r\n    character: '4'\r\n  },\r\n  '211221111': {\r\n    value: 5,\r\n    character: '5'\r\n  },\r\n  '112221111': {\r\n    value: 6,\r\n    character: '6'\r\n  },\r\n  '111211212': {\r\n    value: 7,\r\n    character: '7'\r\n  },\r\n  '211211211': {\r\n    value: 8,\r\n    character: '8'\r\n  },\r\n  '112211211': {\r\n    value: 9,\r\n    character: '9'\r\n  },\r\n  '211112112': {\r\n    value: 10,\r\n    character: 'A'\r\n  },\r\n  '112112112': {\r\n    value: 11,\r\n    character: 'B'\r\n  },\r\n  '212112111': {\r\n    value: 12,\r\n    character: 'C'\r\n  },\r\n  '111122112': {\r\n    value: 13,\r\n    character: 'D'\r\n  },\r\n  '211122111': {\r\n    value: 14,\r\n    character: 'E'\r\n  },\r\n  '112122111': {\r\n    value: 15,\r\n    character: 'F'\r\n  },\r\n  '111112212': {\r\n    value: 16,\r\n    character: 'G'\r\n  },\r\n  '211112211': {\r\n    value: 17,\r\n    character: 'H'\r\n  },\r\n  '112112211': {\r\n    value: 18,\r\n    character: 'I'\r\n  },\r\n  '111122211': {\r\n    value: 19,\r\n    character: 'J'\r\n  },\r\n  '211111122': {\r\n    value: 20,\r\n    character: 'K'\r\n  },\r\n  '112111122': {\r\n    value: 21,\r\n    character: 'L'\r\n  },\r\n  '212111121': {\r\n    value: 22,\r\n    character: 'M'\r\n  },\r\n  '111121122': {\r\n    value: 23,\r\n    character: 'N'\r\n  },\r\n  '211121121': {\r\n    value: 24,\r\n    character: 'O'\r\n  },\r\n  '112121121': {\r\n    value: 25,\r\n    character: 'P'\r\n  },\r\n  '111111222': {\r\n    value: 26,\r\n    character: 'Q'\r\n  },\r\n  '211111221': {\r\n    value: 27,\r\n    character: 'R'\r\n  },\r\n  '112111221': {\r\n    value: 28,\r\n    character: 'S'\r\n  },\r\n  '111121221': {\r\n    value: 29,\r\n    character: 'T'\r\n  },\r\n  '221111112': {\r\n    value: 30,\r\n    character: 'U'\r\n  },\r\n  '122111112': {\r\n    value: 31,\r\n    character: 'V'\r\n  },\r\n  '222111111': {\r\n    value: 32,\r\n    character: 'W'\r\n  },\r\n  '121121112': {\r\n    value: 33,\r\n    character: 'X'\r\n  },\r\n  '221121111': {\r\n    value: 34,\r\n    character: 'Y'\r\n  },\r\n  '122121111': {\r\n    value: 35,\r\n    character: 'Z'\r\n  },\r\n  '121111212': {\r\n    value: 36,\r\n    character: '-'\r\n  },\r\n  '221111211': {\r\n    value: 37,\r\n    character: '.'\r\n  },\r\n  '122111211': {\r\n    value: 38,\r\n    character: ' '\r\n  },\r\n  '121212111': {\r\n    value: 39,\r\n    character: '$'\r\n  },\r\n  '121211121': {\r\n    value: 40,\r\n    character: '/'\r\n  },\r\n  '121112121': {\r\n    value: 41,\r\n    character: '+'\r\n  },\r\n  '111212121': {\r\n    value: 42,\r\n    character: '%'\r\n  },\r\n  '121121211': {\r\n    value: -1,\r\n    character: '*'\r\n  }\r\n};\r\n\r\nconst ExtendedEncoding = {\r\n  '/A': '!',\r\n  '/B': '\\'',\r\n  '/C': '#',\r\n  '/D': '$',\r\n  '/E': '%',\r\n  '/F': '&',\r\n  '/G': '\\'',\r\n  '/H': '(',\r\n  '/I': ')',\r\n  '/J': '*',\r\n  '/K': '+',\r\n  '/L': ',',\r\n  '/O': '/',\r\n  '/Z': ':',\r\n  '%F': ';',\r\n  '%G': '<',\r\n  '%H': '=',\r\n  '%I': '>',\r\n  '%J': '?',\r\n  '%K': '[',\r\n  '%L': '\\\\',\r\n  '%M': ']',\r\n  '%N': '^',\r\n  '%O': '_',\r\n  '+A': 'a',\r\n  '+B': 'b',\r\n  '+C': 'c',\r\n  '+D': 'd',\r\n  '+E': 'e',\r\n  '+F': 'f',\r\n  '+G': 'g',\r\n  '+H': 'h',\r\n  '+I': 'i',\r\n  '+J': 'j',\r\n  '+K': 'k',\r\n  '+L': 'l',\r\n  '+M': 'm',\r\n  '+N': 'n',\r\n  '+O': 'o',\r\n  '+P': 'p',\r\n  '+Q': 'q',\r\n  '+R': 'r',\r\n  '+S': 's',\r\n  '+T': 't',\r\n  '+U': 'u',\r\n  '+V': 'v',\r\n  '+W': 'w',\r\n  '+X': 'x',\r\n  '+Y': 'y',\r\n  '+Z': 'z',\r\n  '%P': '{',\r\n  '%Q': '|',\r\n  '%R': '|',\r\n  '%S': '~',\r\n};\r\n\r\nconst CodaBarEncoding = {\r\n  '0000011': '0',\r\n  '0000110': '1',\r\n  '0001001': '2',\r\n  '1100000': '3',\r\n  '0010010': '4',\r\n  '1000010': '5',\r\n  '0100001': '6',\r\n  '0100100': '7',\r\n  '0110000': '8',\r\n  '1001000': '9',\r\n  '0001100': '-',\r\n  '0011000': '$',\r\n  '1000101': ':',\r\n  '1010001': '/',\r\n  '1010100': '.',\r\n  '0011111': '+',\r\n  '0011010': 'A',\r\n  '0001011': 'B',\r\n  '0101001': 'C',\r\n  '0001110': 'D'\r\n};\r\n\r\nconst EAN13Encoding = {\r\n  'L': {\r\n    '3211': 0,\r\n    '2221': 1,\r\n    '2122': 2,\r\n    '1411': 3,\r\n    '1132': 4,\r\n    '1231': 5,\r\n    '1114': 6,\r\n    '1312': 7,\r\n    '1213': 8,\r\n    '3112': 9\r\n  },\r\n  'G': {\r\n    '1123': 0,\r\n    '1222': 1,\r\n    '2212': 2,\r\n    '1141': 3,\r\n    '2311': 4,\r\n    '1321': 5,\r\n    '4111': 6,\r\n    '2131': 7,\r\n    '3121': 8,\r\n    '2113': 9\r\n  },\r\n  'R': {\r\n    '3211': 0,\r\n    '2221': 1,\r\n    '2122': 2,\r\n    '1411': 3,\r\n    '1132': 4,\r\n    '1231': 5,\r\n    '1114': 6,\r\n    '1312': 7,\r\n    '1213': 8,\r\n    '3112': 9\r\n  },\r\n  formats: {\r\n    'LLLLLL': 0,\r\n    'LLGLGG': 1,\r\n    'LLGGLG': 2,\r\n    'LLGGGL': 3,\r\n    'LGLLGG': 4,\r\n    'LGGLLG': 5,\r\n    'LGGGLL': 6,\r\n    'LGLGLG': 7,\r\n    'LGLGGL': 8,\r\n    'LGGLGL': 9\r\n  }\r\n};\r\n\r\nconst SecureCodabar = true;\r\nconst Secure2Of5 = true;\r\nlet Image, ScanImage, allTables, FormatPriority, Multiple, Locations;\r\n\r\nfunction Rotate(data, width, height, rotation) {\r\n  var newData = [];\r\n  var x, y;\r\n\r\n  switch (rotation) {\r\n    case 90:\r\n      for (x = 0; x < width * 4; x += 4) {\r\n        for (y = width * 4 * (height - 1); y >= 0; y -= width * 4) {\r\n          newData.push(data[x + y]);\r\n          newData.push(data[x + y + 1]);\r\n          newData.push(data[x + y + 2]);\r\n          newData.push(data[x + y + 3]);\r\n        }\r\n      }\r\n      break;\r\n    case -90:\r\n      for (x = width * 4 - 4; x >= 0; x -= 4) {\r\n        for (y = 0; y < data.length; y += width * 4) {\r\n          newData.push(data[x + y]);\r\n          newData.push(data[x + y + 1]);\r\n          newData.push(data[x + y + 2]);\r\n          newData.push(data[x + y + 3]);\r\n        }\r\n      }\r\n      break;\r\n    case 180:\r\n      for (y = width * 4 * (height - 1); y >= 0; y -= width * 4) {\r\n        for (x = width * 4 - 4; x >= 0; x -= 4) {\r\n          newData.push(data[x + y]);\r\n          newData.push(data[x + y + 1]);\r\n          newData.push(data[x + y + 2]);\r\n          newData.push(data[x + y + 3]);\r\n        }\r\n      }\r\n  }\r\n  return new Uint8ClampedArray(newData);\r\n}\r\n\r\nfunction BoxFilter(data, width, radius) {\r\n  var elements = [];\r\n  var sum = [];\r\n  var val;\r\n  var x, y, i;\r\n\r\n  for (x = 0; x < width; x++) {\r\n    elements.push([]);\r\n    sum.push(0);\r\n    for (y = 0; y < (radius + 1) * width; y += width) {\r\n      elements[elements.length - 1].push(data[x + y]);\r\n      sum[sum.length - 1] = sum[sum.length - 1] + data[x + y];\r\n    }\r\n  }\r\n  let newData = [];\r\n\r\n  for (y = 0; y < data.length; y += width) {\r\n    for (x = 0; x < width; x++) {\r\n      let newVal = 0;\r\n      let length = 0;\r\n\r\n      for (i = x; i >= 0; i--) {\r\n        newVal += sum[i];\r\n        length++;\r\n        if (length === radius + 1) break;\r\n      }\r\n      let tempLength = 0;\r\n\r\n      for (i = x + 1; i < width; i++) {\r\n        newVal += sum[i];\r\n        length++;\r\n        tempLength++;\r\n        if (tempLength === radius) break;\r\n      }\r\n      length *= elements[0].length;\r\n      newVal /= length;\r\n      newData.push(newVal);\r\n    }\r\n    if (y - radius * width >= 0) {\r\n      for (i = 0; i < elements.length; i++) {\r\n        val = elements[i].shift();\r\n        sum[i] = sum[i] - val;\r\n      }\r\n    }\r\n    if (y + (radius + 1) * width < data.length) {\r\n      for (i = 0; i < elements.length; i++) {\r\n        val = data[i + y + (radius + 1) * width];\r\n        elements[i].push(val);\r\n        sum[i] = sum[i] + val;\r\n      }\r\n    }\r\n  }\r\n  return newData;\r\n}\r\n\r\nfunction Scale(data, width, height) {\r\n  var newData = [];\r\n  var x, y;\r\n\r\n  for (y = 0; y < data.length; y += width * 8) {\r\n    for (x = 0; x < width * 4; x += 8) {\r\n      let r = (data[y + x] + data[y + x + 4] + data[y + width * 4 + x] + data[y + width * 4 + x + 4]) / 4;\r\n\r\n      newData.push(r);\r\n      let g = (data[y + x + 1] + data[y + x + 4 + 1] + data[y + width * 4 + x + 1] +\r\n        data[y + width * 4 + x + 4 + 1]) / 4;\r\n\r\n      newData.push(g);\r\n      let b = (data[y + x + 2] + data[y + x + 4 + 2] + data[y + width * 4 + x + 2] +\r\n        data[y + width * 4 + x + 4 + 2]) / 4;\r\n\r\n      newData.push(b);\r\n      newData.push(255);\r\n    }\r\n  }\r\n  return new Uint8ClampedArray(newData);\r\n}\r\n\r\nfunction IntensityGradient(data, width) {\r\n  var newData = [];\r\n  var max = Number.MIN_VALUE;\r\n  var min = Number.MAX_VALUE;\r\n  var x, y, i;\r\n\r\n  for (y = 0; y < data.length; y += width * 4) {\r\n    for (x = 0; x < width * 4; x += 4) {\r\n      let horizontalDiff = 0;\r\n      let verticalDiff = 0;\r\n\r\n      for (i = 1; i < 2; i++) {\r\n        if (x + i * 4 < width * 4) {\r\n          horizontalDiff = horizontalDiff + Math.abs(data[y + x] - data[y + x + i * 4]);\r\n        }\r\n        if (y + width * 4 * i < data.length) {\r\n          verticalDiff += verticalDiff + Math.abs(data[y + x] - data[y + x + width * 4 * i]);\r\n        }\r\n      }\r\n      let diff = horizontalDiff - verticalDiff;\r\n\r\n      max = diff > max ? diff : max;\r\n      min = diff < min ? diff : min;\r\n      newData.push(diff);\r\n    }\r\n  }\r\n  if (min < 0) {\r\n    for (i = 0; i < newData.length; i++) {\r\n      newData[i] = newData[i] - min;\r\n    }\r\n    min = 0;\r\n  }\r\n  return newData;\r\n}\r\n\r\nfunction greyScale(data) {\r\n  var i;\r\n\r\n  for (i = 0; i < data.length; i += 4) {\r\n    let max = 0;\r\n    let min = 255;\r\n\r\n    max = data[i] > max ? data[i] : max;\r\n    max = data[i + 1] > max ? data[i + 1] : max;\r\n    max = data[i + 2] > max ? data[i + 2] : max;\r\n    min = data[i] < min ? data[i] : min;\r\n    min = data[i + 1] < min ? data[i + 1] : min;\r\n    min = data[i + 2] < min ? data[i + 2] : min;\r\n    data[i] = data[i + 1] = data[i + 2] = (max + min) / 2;\r\n  }\r\n}\r\n\r\n// function histogram(data) {\r\n//   var i;\r\n//   var hist = [];\r\n\r\n//   for (i = 0; i < 256; i++) {\r\n//     hist[i] = 0;\r\n//   }\r\n//   for (i = 0; i < data.length; i += 4) {\r\n//     hist[data[i]] = hist[data[i]] + 1;\r\n//   }\r\n//   return hist;\r\n// }\r\n\r\nfunction otsu(histogram, total) {\r\n  var i;\r\n  var sum = 0;\r\n  var sumB = 0;\r\n  var wB = 0;\r\n  var wF = 0;\r\n  var mB;\r\n  var mF;\r\n  var max = 0.0;\r\n  var between = 0.0;\r\n  var threshold1 = 0.0;\r\n  var threshold2 = 0.0;\r\n\r\n  for (i = 1; i < histogram.length; ++i) {\r\n    sum += i * histogram[i];\r\n  }\r\n\r\n  for (i = 0; i < histogram.length; ++i) {\r\n    wB += histogram[i];\r\n    if (wB === 0) {continue;}\r\n    wF = total - wB;\r\n    if (wF === 0) {break;}\r\n    sumB += i * histogram[i];\r\n    mB = sumB / wB;\r\n    mF = (sum - sumB) / wF;\r\n    between = wB * wF * Math.pow(mB - mF, 2);\r\n    if (between >= max) {\r\n      threshold1 = i;\r\n      if (between > max) {\r\n        threshold2 = i;\r\n      }\r\n      max = between;\r\n    }\r\n  }\r\n  return (threshold1 + threshold2) / 2.0;\r\n}\r\n\r\nfunction CreateImageData() {\r\n  var Converter;\r\n  var x, y;\r\n\r\n  Image.data = new Uint8ClampedArray(Image.width * Image.height * 4);\r\n\r\n  for (y = 0; y < Image.height; y++) {\r\n    for (x = 0; x < Image.width; x++) {\r\n      Converter = y * 4 * Image.width;\r\n      Image.data[Converter + x * 4] = Image.table[x][y][0];\r\n      Image.data[Converter + x * 4 + 1] = Image.table[x][y][1];\r\n      Image.data[Converter + x * 4 + 2] = Image.table[x][y][2];\r\n      Image.data[Converter + x * 4 + 3] = Image.table[x][y][3];\r\n    }\r\n  }\r\n}\r\n\r\n// function CreateScanImageData() {\r\n//   var Converter;\r\n//   var x, y;\r\n\r\n//   ScanImage.data = new Uint8ClampedArray(ScanImage.width * ScanImage.height * 4);\r\n\r\n//   for (y = 0; y < ScanImage.height; y++) {\r\n//     for (x = 0; x < ScanImage.width; x++) {\r\n//       Converter = y * 4 * ScanImage.width;\r\n//       ScanImage.data[Converter + x * 4] = ScanImage.table[x][y][0];\r\n//       ScanImage.data[Converter + x * 4 + 1] = ScanImage.table[x][y][1];\r\n//       ScanImage.data[Converter + x * 4 + 2] = ScanImage.table[x][y][2];\r\n//       ScanImage.data[Converter + x * 4 + 3] = ScanImage.table[x][y][3];\r\n//     }\r\n//   }\r\n// }\r\n\r\nfunction CreateTable() {\r\n  var tempArray = [];\r\n  var i, j;\r\n\r\n  Image.table = [];\r\n\r\n  for (i = 0; i < Image.width * 4; i += 4) {\r\n    tempArray = [];\r\n    for (j = i; j < Image.data.length; j += Image.width * 4) {\r\n      tempArray.push([Image.data[j], Image.data[j + 1], Image.data[j + 2], Image.data[j + 3]]);\r\n    }\r\n    Image.table.push(tempArray);\r\n  }\r\n}\r\n\r\nfunction CreateScanTable() {\r\n  var tempArray = [];\r\n  var i, j;\r\n\r\n  ScanImage.table = [];\r\n\r\n  for (i = 0; i < ScanImage.width * 4; i += 4) {\r\n    tempArray = [];\r\n    for (j = i; j < ScanImage.data.length; j += ScanImage.width * 4) {\r\n      tempArray.push([ScanImage.data[j], ScanImage.data[j + 1], ScanImage.data[j + 2], ScanImage.data[j + 3]]);\r\n    }\r\n    ScanImage.table.push(tempArray);\r\n  }\r\n}\r\n\r\nfunction EnlargeTable(h, w) {\r\n  var TempArray = [];\r\n  var x, y, i;\r\n\r\n  for (x = 0; x < Image.width; x++) {\r\n    TempArray = [];\r\n    for (y = 0; y < Image.height; y++) {\r\n      for (i = 0; i < h; i++) {\r\n        TempArray.push(Image.table[x][y]);\r\n      }\r\n    }\r\n    Image.table[x] = TempArray.slice();\r\n  }\r\n  TempArray = Image.table.slice();\r\n  for (x = 0; x < Image.width; x++) {\r\n    for (i = 0; i < w; i++) {\r\n      Image.table[x * w + i] = TempArray[x].slice();\r\n    }\r\n  }\r\n  Image.width = Image.table.length;\r\n  Image.height = Image.table[0].length;\r\n  CreateImageData();\r\n}\r\n\r\nfunction ScaleHeight(scale) {\r\n  var tempArray = [];\r\n  var avrgRed = 0;\r\n  var avrgGreen = 0;\r\n  var avrgBlue = 0;\r\n  var i, j, k;\r\n\r\n  for (i = 0; i < Image.height - scale; i += scale) {\r\n    for (j = 0; j < Image.width; j++) {\r\n      avrgRed = 0;\r\n      avrgGreen = 0;\r\n      avrgBlue = 0;\r\n      for (k = i; k < i + scale; k++) {\r\n        avrgRed += Image.table[j][k][0];\r\n        avrgGreen += Image.table[j][k][1];\r\n        avrgBlue += Image.table[j][k][2];\r\n      }\r\n      tempArray.push(avrgRed / scale);\r\n      tempArray.push(avrgGreen / scale);\r\n      tempArray.push(avrgBlue / scale);\r\n      tempArray.push(255);\r\n    }\r\n  }\r\n  return new Uint8ClampedArray(tempArray);\r\n}\r\n\r\nfunction Intersects(rectOne, rectTwo) {\r\n  return (rectOne[0][0] <= rectTwo[0][1] &&\r\n    rectTwo[0][0] <= rectOne[0][1] &&\r\n    rectOne[1][0] <= rectTwo[1][1] &&\r\n    rectTwo[1][0] <= rectOne[1][1]);\r\n}\r\n\r\nfunction maxLocalization(max, maxPos, data) {\r\n  var originalMax = max;\r\n  var rects = [];\r\n  var x, y, i;\r\n\r\n  do {\r\n    let startX = maxPos % Image.width;\r\n    let startY = (maxPos - startX) / Image.width;\r\n    let minY = 0;\r\n    let maxY = Image.height;\r\n    let minX = 0;\r\n    let maxX = Image.width - 1;\r\n\r\n    for (y = startY; y < Image.height - 1; y++) {\r\n      if (Image.table[startX][y + 1][0] === 0) {\r\n        maxY = y;\r\n        break;\r\n      }\r\n    }\r\n    for (y = startY; y > 0; y--) {\r\n      if (Image.table[startX][y - 1][0] === 0) {\r\n        minY = y;\r\n        break;\r\n      }\r\n    }\r\n    for (x = startX; x < Image.width - 1; x++) {\r\n      if (Image.table[x + 1][startY][0] === 0) {\r\n        maxX = x;\r\n        break;\r\n      }\r\n    }\r\n    for (x = startX; x > 0; x--) {\r\n      if (Image.table[x - 1][startY][0] === 0) {\r\n        minX = x;\r\n        break;\r\n      }\r\n    }\r\n    for (y = minY * Image.width; y <= maxY * Image.width; y += Image.width) {\r\n      for (x = minX; x <= maxX; x++) {\r\n        data[y + x] = 0;\r\n      }\r\n    }\r\n    let newRect = [\r\n      [minX, maxX],\r\n      [minY, maxY]\r\n    ];\r\n\r\n    for (i = 0; i < rects.length; i++) {\r\n      if (Intersects(newRect, rects[i])) {\r\n        if (rects[i][0][1] - rects[i][0][0] > newRect[0][1] - newRect[0][0]) {\r\n          rects[i][0][0] = rects[i][0][0] < newRect[0][0] ? rects[i][0][0] : newRect[0][0];\r\n          rects[i][0][1] = rects[i][0][1] > newRect[0][1] ? rects[i][0][1] : newRect[0][1];\r\n          newRect = [];\r\n          break;\r\n        } else {\r\n          rects[i][0][0] = rects[i][0][0] < newRect[0][0] ? rects[i][0][0] : newRect[0][0];\r\n          rects[i][0][1] = rects[i][0][1] > newRect[0][1] ? rects[i][0][1] : newRect[0][1];\r\n          rects[i][1][0] = newRect[1][0];\r\n          rects[i][1][1] = newRect[1][1];\r\n          newRect = [];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (newRect.length > 0) {\r\n      rects.push(newRect);\r\n    }\r\n    max = 0;\r\n    maxPos = 0;\r\n\r\n    for (i = 0; i < data.length; i++) {\r\n      if (data[i] > max) {\r\n        max = data[i];\r\n        maxPos = i;\r\n      }\r\n    }\r\n  } while (max > originalMax * 0.70);\r\n  return rects;\r\n}\r\n\r\nfunction ImgProcessing() {\r\n  var newData;\r\n  var min;\r\n  var i, x, y;\r\n  var max = 0;\r\n  var maxPos = 0;\r\n  var avrgLight = 0;\r\n\r\n  greyScale(Image.data);\r\n  newData = IntensityGradient(Image.data, Image.width);\r\n  min = newData[0];\r\n\r\n  newData = BoxFilter(newData, Image.width, 15);\r\n\r\n  for (i = 1; i < newData.length; i++) {\r\n    min = min > newData[i] ? newData[i] : min;\r\n  }\r\n\r\n  for (i = 0; i < newData.length; i++) {\r\n    newData[i] = Math.round((newData[i] - min));\r\n    avrgLight += newData[i];\r\n    if (max < newData[i]) {\r\n      max = newData[i];\r\n      maxPos = i;\r\n    }\r\n  }\r\n  avrgLight /= newData.length;\r\n  if (avrgLight < 15) {\r\n    newData = BoxFilter(newData, Image.width, 8);\r\n    min = newData[0];\r\n    for (i = 1; i < newData.length; i++) {\r\n      min = min > newData[i] ? newData[i] : min;\r\n    }\r\n    max = 0;\r\n    maxPos = 0;\r\n    for (i = 0; i < newData.length; i++) {\r\n      newData[i] = Math.round((newData[i] - min));\r\n      if (max < newData[i]) {\r\n        max = newData[i];\r\n        maxPos = i;\r\n      }\r\n    }\r\n  }\r\n  let hist = [];\r\n\r\n  for (i = 0; i <= max; i++) {\r\n    hist[i] = 0;\r\n  }\r\n  for (i = 0; i < newData.length; i++) {\r\n    hist[newData[i]] = hist[newData[i]] + 1;\r\n  }\r\n  let thresh = otsu(hist, newData.length);\r\n\r\n  for (i = 0; i < newData.length; i++) {\r\n    if (newData[i] < thresh) {\r\n      Image.data[i * 4] = Image.data[i * 4 + 1] = Image.data[i * 4 + 2] = 0;\r\n    } else {\r\n      Image.data[i * 4] = Image.data[i * 4 + 1] = Image.data[i * 4 + 2] = 255;\r\n    }\r\n  }\r\n  CreateTable();\r\n  let rects = maxLocalization(max, maxPos, newData);\r\n  let feedBack = [];\r\n\r\n  for (i = 0; i < rects.length; i++) {\r\n    feedBack.push({\r\n      x: rects[i][0][0],\r\n      y: rects[i][1][0],\r\n      width: rects[i][0][1] - rects[i][0][0],\r\n      height: rects[i][1][1] - rects[i][1][0]\r\n    });\r\n  }\r\n  if (feedBack.length > 0) {\r\n    postMessage({\r\n      result: feedBack,\r\n      success: 'localization'\r\n    });\r\n  }\r\n  Locations = feedBack;\r\n  allTables = [];\r\n  for (i = 0; i < rects.length; i++) {\r\n    let newTable = [];\r\n\r\n    for (x = rects[i][0][0] * 2; x < rects[i][0][1] * 2; x++) {\r\n      let tempArray = [];\r\n\r\n      for (y = rects[i][1][0] * 2; y < rects[i][1][1] * 2; y++) {\r\n        tempArray.push([ScanImage.table[x][y][0], ScanImage.table[x][y][1], ScanImage.table[x][y][2], 255]);\r\n      }\r\n      newTable.push(tempArray);\r\n    }\r\n    if (newTable.length < 1) continue;\r\n    Image.table = newTable;\r\n    Image.width = newTable.length;\r\n    Image.height = newTable[0].length;\r\n    CreateImageData();\r\n    allTables.push({\r\n      table: newTable,\r\n      data: new Uint8ClampedArray(Image.data),\r\n      width: Image.width,\r\n      height: Image.height\r\n    });\r\n  }\r\n}\r\n\r\n// function showImage(data, width, height) {\r\n//   postMessage({\r\n//     result: data,\r\n//     width: width,\r\n//     height: height,\r\n//     success: 'image'\r\n//   });\r\n// }\r\n\r\nfunction yStraighten(img, start, end) {\r\n  var average = 0;\r\n  var threshold;\r\n  var newImg = new Uint8ClampedArray(Image.width * (end - start + 1) * 4);\r\n  var i, j;\r\n\r\n  for (i = 0; i < newImg.length; i++) {\r\n    newImg[i] = 255;\r\n  }\r\n  for (i = 0; i < Image.width * 4; i += 4) {\r\n    threshold = end;\r\n    average = (img[i] + img[i + 1] + img[i + 2]) / 3;\r\n    if (i < Image.width * 4 - 4) {\r\n      average += (img[i + 4] + img[i + 5] + img[i + 6]) / 3;\r\n      average /= 2;\r\n    }\r\n    for (j = i; j < newImg.length; j += Image.width * 4) {\r\n      if (average < threshold) {\r\n        newImg[j] = newImg[j + 1] = newImg[j + 2] = 0;\r\n      }\r\n      threshold--;\r\n    }\r\n  }\r\n  return newImg;\r\n}\r\n\r\nfunction CheckEan13(values, middle) {\r\n  if (middle) {\r\n    if (values.length !== 5) return false;\r\n  } else {\r\n    if (values.length !== 3) return false;\r\n  }\r\n\r\n  let avrg = 0;\r\n\r\n  for (let i = 0; i < values.length; i++) {\r\n    avrg += values[i];\r\n  }\r\n  avrg /= values.length;\r\n  for (let i = 0; i < values.length; i++) {\r\n    if (values[i] / avrg < 0.5 || values[i] / avrg > 1.5) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction BinaryConfiguration(binaryString, type) {\r\n  var result = [];\r\n  var binTemp = [];\r\n  var count = 0;\r\n  var len;\r\n  var totalBars;\r\n  var i;\r\n\r\n  if (type === 'Code128' || type === 'Code93') {\r\n    totalBars = 6;\r\n    len = binaryString[0];\r\n    if (type === 'Code128') len /= 2;\r\n    for (i = 0; i < binaryString.length; i++) {\r\n      if (binaryString[i] > len * 6) {\r\n        binaryString.splice(i, binaryString.length);\r\n        break;\r\n      }\r\n    }\r\n    do {\r\n      if (binaryString.length === 7 && type === 'Code128') {\r\n        result.push(binaryString.splice(0, binaryString.length));\r\n      } else {\r\n        result.push(binaryString.splice(0, totalBars));\r\n      }\r\n      if (type === 'Code93' && binaryString.length < 6) binaryString.splice(0, totalBars);\r\n    } while (binaryString.length > 0);\r\n  }\r\n  if (type === 'Code39') {\r\n    totalBars = 9;\r\n    len = binaryString[0];\r\n    for (i = 0; i < binaryString.length; i++) {\r\n      if (binaryString[i] > len * 5) {\r\n        binaryString.splice(i, binaryString.length);\r\n        break;\r\n      }\r\n    }\r\n    do {\r\n      result.push(binaryString.splice(0, totalBars));\r\n      binaryString.splice(0, 1);\r\n    } while (binaryString.length > 0);\r\n  }\r\n  if (type === 'EAN-13') {\r\n    totalBars = 4;\r\n    len = binaryString[0];\r\n    let secureCount = 0;\r\n\r\n    for (i = 0; i < binaryString.length; i++) {\r\n      if (binaryString[i] > len * 6) {\r\n        binaryString.splice(i, binaryString.length);\r\n        break;\r\n      }\r\n    }\r\n    if (CheckEan13(binaryString.splice(0, 3), false)) secureCount++;\r\n    count = 0;\r\n    do {\r\n      result.push(binaryString.splice(0, totalBars));\r\n      count++;\r\n      if (count === 6) {if (CheckEan13(binaryString.splice(0, 5), true)) secureCount++;}\r\n    } while (result.length < 12 && binaryString.length > 0);\r\n    if (CheckEan13(binaryString.splice(0, 3), false)) secureCount++;\r\n    if (secureCount < 2) return [];\r\n  }\r\n  if (type === '2Of5') {\r\n    totalBars = 5;\r\n    len = binaryString[0] / 2;\r\n    for (i = 0; i < binaryString.length; i++) {\r\n      if (binaryString[i] > len * 5) {\r\n        binaryString.splice(i, binaryString.length);\r\n        break;\r\n      }\r\n    }\r\n    let temp = binaryString.splice(0, 6);\r\n\r\n    result.push(temp);\r\n    do {\r\n      binTemp = [];\r\n      for (i = 0; i < totalBars; i++) {\r\n        binTemp.push(binaryString.splice(0, 1)[0]);\r\n        // binaryString.splice(0, 1)[0];\r\n      }\r\n      result.push(binTemp);\r\n      if (binaryString.length === 5) result.push(binaryString.splice(0, 5));\r\n    } while (binaryString.length > 0);\r\n  }\r\n  if (type === 'Inter2Of5') {\r\n    totalBars = 5;\r\n    len = binaryString[0];\r\n    for (i = 0; i < binaryString.length; i++) {\r\n      if (binaryString[i] > len * 5) {\r\n        binaryString.splice(i, binaryString.length);\r\n        break;\r\n      }\r\n    }\r\n    result.push(binaryString.splice(0, 4));\r\n    let binTempWhite = [];\r\n\r\n    do {\r\n      binTemp = [];\r\n      binTempWhite = [];\r\n      for (i = 0; i < totalBars; i++) {\r\n        binTemp.push(binaryString.splice(0, 1)[0]);\r\n        binTempWhite.push(binaryString.splice(0, 1)[0]);\r\n      }\r\n      result.push(binTemp);\r\n      result.push(binTempWhite);\r\n      if (binaryString.length === 3) result.push(binaryString.splice(0, 3));\r\n    } while (binaryString.length > 0);\r\n  }\r\n  if (type === 'Codabar') {\r\n    totalBars = 7;\r\n    len = binaryString[0];\r\n    for (i = 0; i < binaryString.length; i++) {\r\n      if (binaryString[i] > len * 5) {\r\n        binaryString.splice(i, binaryString.length);\r\n        break;\r\n      }\r\n    }\r\n    do {\r\n      result.push(binaryString.splice(0, totalBars));\r\n      binaryString.splice(0, 1);\r\n    } while (binaryString.length > 0);\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction TwoOfFiveStartEnd(values, start) {\r\n  if (values.length < 5 || values.length > 6) return false;\r\n  let maximum = 0;\r\n  let TwoOfFiveMax = [0, 0];\r\n  let u;\r\n\r\n  for (u = 0; u < values.length; u++) {\r\n    if (values[u] > maximum) {\r\n      maximum = values[u];\r\n      TwoOfFiveMax[0] = u;\r\n    }\r\n  }\r\n  maximum = 0;\r\n  for (u = 0; u < values.length; u++) {\r\n    if (u === TwoOfFiveMax[0]) continue;\r\n    if (values[u] > maximum) {\r\n      maximum = values[u];\r\n      TwoOfFiveMax[1] = u;\r\n    }\r\n  }\r\n  if (start) {\r\n    return TwoOfFiveMax[0] + TwoOfFiveMax[1] === 2;\r\n  }\r\n  return TwoOfFiveMax[0] + TwoOfFiveMax[1] === 2;\r\n  \r\n}\r\n\r\nfunction CheckInterleaved(values, start) {\r\n  var average = 0;\r\n  var i;\r\n\r\n  for (i = 0; i < values.length; i++) {\r\n    average += values[i];\r\n  }\r\n  average /= 4;\r\n  if (start) {\r\n    if (values.length !== 4) return false;\r\n    for (i = 0; i < values.length; i++) {\r\n      if (values[i] / average < 0.5 || values[i] / average > 1.5) return false;\r\n    }\r\n    return true;\r\n  }\r\n  if (values.length !== 3) return false;\r\n  let max = 0;\r\n  let pos;\r\n\r\n  for (i = 0; i < values.length; i++) {\r\n    if (values[i] > max) {\r\n      max = values[i];\r\n      pos = i;\r\n    }\r\n  }\r\n  if (pos !== 0) return false;\r\n  if (values[0] / average < 1.5 || values[0] / average > 2.5) return false;\r\n  for (i = 1; i < values.length; i++) {\r\n    if (values[i] / average < 0.5 || values[i] / average > 1.5) return false;\r\n  }\r\n  return true;\r\n  \r\n}\r\n\r\nfunction Distribution(totalBinArray, type) {\r\n  var testData = 0;\r\n  var result = [];\r\n  var totalBars;\r\n  var total;\r\n  var maxLength;\r\n  var k, i, j;\r\n  var blackMax;\r\n  var whiteMax;\r\n  var wideAvrg;\r\n  var narrowAvrg;\r\n  var prevPos;\r\n  var wideValues;\r\n  var max;\r\n\r\n  type = availableFormats.indexOf(type);\r\n\r\n  if (type === 0) {\r\n    total = 11;\r\n    totalBars = 6;\r\n    maxLength = 4;\r\n  } else if (type === 1) {\r\n    total = 9;\r\n    totalBars = 6;\r\n    maxLength = 4;\r\n  } else if (type === 2) {\r\n    total = 12;\r\n    totalBars = 9;\r\n  } else if (type === 3) {\r\n    total = 7;\r\n    totalBars = 4;\r\n    maxLength = 4;\r\n  } else if (type === 6) {\r\n    totalBars = 7;\r\n  }\r\n  for (k = 0; k < totalBinArray.length; k++) {\r\n    let BinArray = totalBinArray[k];\r\n    let sum = 0;\r\n    let counter = 0;\r\n    let tempBin = [];\r\n\r\n    if (type === 6) {\r\n      let upperTolerance = 1.5;\r\n      let lowerTolerance = 1 / 2;\r\n\r\n      if (BinArray.length !== 7) return [];\r\n      if (k === 0 || k === totalBinArray.length - 1) {\r\n        whiteMax = [\r\n          [0, 0],\r\n          [0, 0]\r\n        ];\r\n        blackMax = [0, 0];\r\n        for (i = 0; i < BinArray.length; i++) {\r\n          if (i % 2 === 0) {\r\n            if (BinArray[i] > blackMax[0]) {\r\n              blackMax[0] = BinArray[i];\r\n              blackMax[1] = i;\r\n            }\r\n          } else {\r\n            if (BinArray[i] > whiteMax[0][0]) {\r\n              whiteMax[0][0] = BinArray[i];\r\n              prevPos = whiteMax[0][1];\r\n              whiteMax[0][1] = i;\r\n              i = prevPos - 1;\r\n              continue;\r\n            }\r\n            if (BinArray[i] > whiteMax[1][0] && i !== whiteMax[0][1]) {\r\n              whiteMax[1][0] = BinArray[i];\r\n              whiteMax[1][1] = i;\r\n            }\r\n          }\r\n        }\r\n        if (SecureCodabar) {\r\n          wideAvrg = whiteMax[0][0] + whiteMax[1][0] + blackMax[0];\r\n          wideAvrg /= 3;\r\n          wideValues = [whiteMax[0][0], whiteMax[1][0], blackMax[0]];\r\n          for (i = 0; i < wideValues.length; i++) {\r\n            if (wideValues[i] / wideAvrg > upperTolerance || wideValues[i] / wideAvrg < lowerTolerance) return [];\r\n          }\r\n          narrowAvrg = 0;\r\n          for (i = 0; i < BinArray.length; i++) {\r\n            if (i === blackMax[1] || i === whiteMax[0][1] || i === whiteMax[1][1]) continue;\r\n            narrowAvrg += BinArray[i];\r\n          }\r\n          narrowAvrg /= 4;\r\n          for (i = 0; i < BinArray.length; i++) {\r\n            if (i === blackMax[1] || i === whiteMax[0][1] || i === whiteMax[1][1]) continue;\r\n            if (BinArray[i] / narrowAvrg > upperTolerance || BinArray[i] / narrowAvrg < lowerTolerance) return [];\r\n          }\r\n        }\r\n        for (i = 0; i < BinArray.length; i++) {\r\n          if (i === blackMax[1] || i === whiteMax[0][1] || i === whiteMax[1][1]) {\r\n            tempBin.push(1);\r\n          } else {\r\n            tempBin.push(0);\r\n          }\r\n        }\r\n      } else {\r\n        blackMax = [0, 0];\r\n        whiteMax = [0, 0];\r\n        for (i = 0; i < BinArray.length; i++) {\r\n          if (i % 2 === 0) {\r\n            if (BinArray[i] > blackMax[0]) {\r\n              blackMax[0] = BinArray[i];\r\n              blackMax[1] = i;\r\n            }\r\n          } else {\r\n            if (BinArray[i] > whiteMax[0]) {\r\n              whiteMax[0] = BinArray[i];\r\n              whiteMax[1] = i;\r\n            }\r\n          }\r\n        }\r\n        if (blackMax[0] / whiteMax[0] > 1.55) {\r\n          let tempArray = blackMax;\r\n\r\n          blackMax = [tempArray, [0, 0],\r\n            [0, 0]\r\n          ];\r\n          for (i = 0; i < BinArray.length; i++) {\r\n            if (i % 2 === 0) {\r\n              if (BinArray[i] > blackMax[1][0] && i !== blackMax[0][1]) {\r\n                blackMax[1][0] = BinArray[i];\r\n                prevPos = blackMax[1][1];\r\n                blackMax[1][1] = i;\r\n                i = prevPos - 1;\r\n                continue;\r\n              }\r\n              if (BinArray[i] > blackMax[2][0] && i !== blackMax[0][1] && i !== blackMax[1][1]) {\r\n                blackMax[2][0] = BinArray[i];\r\n                blackMax[2][1] = i;\r\n              }\r\n            }\r\n          }\r\n          if (SecureCodabar) {\r\n            wideAvrg = blackMax[0][0] + blackMax[1][0] + blackMax[2][0];\r\n            wideAvrg /= 3;\r\n            for (i = 0; i < blackMax.length; i++) {\r\n              if (blackMax[i][0] / wideAvrg > upperTolerance || blackMax[i][0] / wideAvrg < lowerTolerance) return [];\r\n            }\r\n            narrowAvrg = 0;\r\n            for (i = 0; i < BinArray.length; i++) {\r\n              if (i === blackMax[0][1] || i === blackMax[1][1] || i === blackMax[2][1]) continue;\r\n              narrowAvrg += BinArray[i];\r\n            }\r\n            narrowAvrg /= 4;\r\n            for (i = 0; i < BinArray.length; i++) {\r\n              if (i === blackMax[0][1] || i === blackMax[1][1] || i === blackMax[2][1]) continue;\r\n              if (BinArray[i] / narrowAvrg > upperTolerance || BinArray[i] / narrowAvrg < lowerTolerance) return [];\r\n            }\r\n          }\r\n          for (i = 0; i < BinArray.length; i++) {\r\n            if (i === blackMax[0][1] || i === blackMax[1][1] || i === blackMax[2][1]) {\r\n              tempBin.push(1);\r\n            } else {\r\n              tempBin.push(0);\r\n            }\r\n          }\r\n        } else {\r\n          if (SecureCodabar) {\r\n            wideAvrg = blackMax[0] + whiteMax[0];\r\n            wideAvrg /= 2;\r\n            if (blackMax[0] / wideAvrg > 1.5 || blackMax[0] / wideAvrg < 0.5) return [];\r\n            if (whiteMax[0] / wideAvrg > 1.5 || whiteMax[0] / wideAvrg < 0.5) return [];\r\n            narrowAvrg = 0;\r\n            for (i = 0; i < BinArray.length; i++) {\r\n              if (i === blackMax[1] || i === whiteMax[1]) continue;\r\n              narrowAvrg += BinArray[i];\r\n            }\r\n            narrowAvrg /= 5;\r\n            for (i = 0; i < BinArray.length; i++) {\r\n              if (i === blackMax[1] || i === whiteMax[1]) continue;\r\n              if (BinArray[i] / narrowAvrg > upperTolerance || BinArray[i] / narrowAvrg < lowerTolerance) return [];\r\n            }\r\n          }\r\n          for (i = 0; i < BinArray.length; i++) {\r\n            if (i === blackMax[1] || i === whiteMax[1]) {\r\n              tempBin.push(1);\r\n            } else {\r\n              tempBin.push(0);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      result.push(tempBin);\r\n      continue;\r\n    }\r\n    if (type === 4 || type === 5) {\r\n      max = [\r\n        [0, 0],\r\n        [0, 0]\r\n      ];\r\n      for (i = 0; i < BinArray.length; i++) {\r\n        if (!isFinite(BinArray[i])) return [];\r\n        if (BinArray[i] > max[0][0]) {\r\n          max[0][0] = BinArray[i];\r\n          prevPos = max[0][1];\r\n          max[0][1] = i;\r\n          i = prevPos - 1;\r\n        }\r\n        if (BinArray[i] > max[1][0] && i !== max[0][1]) {\r\n          max[1][0] = BinArray[i];\r\n          max[1][1] = i;\r\n        }\r\n      }\r\n      if (Secure2Of5) {\r\n        wideAvrg = max[0][0] + max[1][0];\r\n        wideAvrg /= 2;\r\n        if (max[0][0] / wideAvrg > 1.3 || max[0][0] / wideAvrg < 0.7) return [];\r\n        if (max[1][0] / wideAvrg > 1.3 || max[1][0] / wideAvrg < 0.7) return [];\r\n        narrowAvrg = 0;\r\n        for (i = 0; i < BinArray.length; i++) {\r\n          if (i === max[0][1] || i === max[1][1]) continue;\r\n          narrowAvrg += BinArray[i];\r\n        }\r\n        narrowAvrg /= 3;\r\n        for (i = 0; i < BinArray.length; i++) {\r\n          if (i === max[0][1] || i === max[1][1]) continue;\r\n          if (BinArray[i] / narrowAvrg > 1.3 || BinArray[i] / narrowAvrg < 0.7) return [];\r\n        }\r\n      }\r\n      for (i = 0; i < BinArray.length; i++) {\r\n        if (i === max[0][1] || i === max[1][1]) {\r\n          tempBin.push(1);\r\n          continue;\r\n        }\r\n        tempBin.push(0);\r\n      }\r\n      result.push(tempBin);\r\n      continue;\r\n    }\r\n    while (counter < totalBars) {\r\n      sum += BinArray[counter];\r\n      counter++;\r\n    }\r\n    if (type === 2) {\r\n\r\n      blackMax = [\r\n        [0, 0],\r\n        [0, 0]\r\n      ];\r\n      whiteMax = [0, 0];\r\n\r\n      for (j = 0; j < BinArray.length; j++) {\r\n        if (j % 2 === 0) {\r\n          if (BinArray[j] > blackMax[0][0]) {\r\n            blackMax[0][0] = BinArray[j];\r\n            prevPos = blackMax[0][1];\r\n            blackMax[0][1] = j;\r\n            j = prevPos;\r\n          }\r\n          if (BinArray[j] > blackMax[1][0] && j !== blackMax[0][1]) {\r\n            blackMax[1][0] = BinArray[j];\r\n            blackMax[1][1] = j;\r\n          }\r\n        } else {\r\n          if (BinArray[j] > whiteMax[0]) {\r\n            whiteMax[0] = BinArray[j];\r\n            whiteMax[1] = j;\r\n          }\r\n        }\r\n      }\r\n      if (whiteMax[0] / blackMax[0][0] > 1.5 && whiteMax[0] / blackMax[1][0] > 1.5) {\r\n        blackMax = [\r\n          [0, 0],\r\n          [0, 0]\r\n        ];\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j % 2 !== 0) {\r\n            if (BinArray[j] > blackMax[0][0] && j !== whiteMax[1]) {\r\n              blackMax[0][0] = BinArray[j];\r\n              prevPos = blackMax[0][1];\r\n              blackMax[0][1] = j;\r\n              j = prevPos;\r\n            }\r\n            if (BinArray[j] > blackMax[1][0] && j !== blackMax[0][1] && j !== whiteMax[1]) {\r\n              blackMax[1][0] = BinArray[j];\r\n              blackMax[1][1] = j;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      wideAvrg = blackMax[0][0] + blackMax[1][0] + whiteMax[0];\r\n      wideAvrg /= 3;\r\n      if (blackMax[0][0] / wideAvrg > 1.6 || blackMax[0][0] / wideAvrg < 0.4) return [];\r\n      if (blackMax[1][0] / wideAvrg > 1.6 || blackMax[1][0] / wideAvrg < 0.4) return [];\r\n      if (whiteMax[0] / wideAvrg > 1.6 || whiteMax[0] / wideAvrg < 0.4) return [];\r\n      narrowAvrg = 0;\r\n      for (i = 0; i < BinArray.length; i++) {\r\n        if (i === blackMax[0][1] || i === blackMax[1][1] || i === whiteMax[1]) continue;\r\n        narrowAvrg += BinArray[i];\r\n      }\r\n      narrowAvrg /= 6;\r\n      for (i = 0; i < BinArray.length; i++) {\r\n        if (i === blackMax[0][1] || i === blackMax[1][1] || i === whiteMax[1]) continue;\r\n        if (BinArray[i] / narrowAvrg > 1.6 || BinArray[i] / narrowAvrg < 0.4) return [];\r\n      }\r\n      for (j = 0; j < BinArray.length; j++) {\r\n        if (j === blackMax[0][1] || j === blackMax[1][1] || j === whiteMax[1]) {\r\n          tempBin.push(2);\r\n        } else {\r\n          tempBin.push(1);\r\n        }\r\n      }\r\n      result.push(tempBin);\r\n      continue;\r\n    }\r\n    if (type === 3) {\r\n      max = [\r\n        [0, 0],\r\n        [0, 0],\r\n        [0, 0]\r\n      ];\r\n      for (j = 0; j < BinArray.length; j++) {\r\n        if (BinArray[j] > max[0][0]) {\r\n          max[0][0] = BinArray[j];\r\n          prevPos = max[0][1];\r\n          max[0][1] = j;\r\n          j = prevPos;\r\n        }\r\n        if (BinArray[j] > max[1][0] && j !== max[0][1]) {\r\n          max[1][0] = BinArray[j];\r\n          prevPos = max[1][1];\r\n          max[1][1] = j;\r\n          j = prevPos;\r\n        }\r\n        if (BinArray[j] > max[2][0] && j !== max[0][1] && j !== max[1][1]) {\r\n          max[2][0] = BinArray[j];\r\n          max[2][1] = j;\r\n        }\r\n      }\r\n      if (max[0][0] / max[1][0] >= 3) {\r\n        narrowAvrg = 0;\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1]) continue;\r\n          narrowAvrg += BinArray[j];\r\n        }\r\n        narrowAvrg /= 3;\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1]) continue;\r\n          if (BinArray[j] / narrowAvrg < 0.02 || BinArray[j] / narrowAvrg > 3) {\r\n            return {\r\n              data: [],\r\n              correction: 0\r\n            };\r\n          }\r\n        }\r\n        if (max[0][0] / narrowAvrg < 2.2 || max[0][0] / narrowAvrg > 6) {\r\n          return {\r\n            data: [],\r\n            correction: 0\r\n          };\r\n        }\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1]) {\r\n            tempBin.push(4);\r\n          } else {\r\n            tempBin.push(1);\r\n          }\r\n        }\r\n        result.push(tempBin);\r\n      } else if (max[0][0] / max[2][0] > 2) {\r\n        wideAvrg = max[0][0] + max[1][0];\r\n        wideAvrg /= 5;\r\n        if (max[0][0] / (wideAvrg * 3) < 0.02 || max[0][0] / (wideAvrg * 3) > 3) {\r\n          return {\r\n            data: [],\r\n            correction: 0\r\n          };\r\n        }\r\n        if (max[1][0] / (wideAvrg * 2) < 0.02 || max[1][0] / (wideAvrg * 2) > 3) {\r\n          return {\r\n            data: [],\r\n            correction: 0\r\n          };\r\n        }\r\n        narrowAvrg = 0;\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1] || j === max[1][1]) continue;\r\n          narrowAvrg += BinArray[j];\r\n        }\r\n        narrowAvrg /= 2;\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1] || j === max[1][1]) continue;\r\n          if (BinArray[j] / narrowAvrg < 0.02 || BinArray[j] / narrowAvrg > 3) {\r\n            return {\r\n              data: [],\r\n              correction: 0\r\n            };\r\n          }\r\n        }\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1]) {\r\n            tempBin.push(3);\r\n          } else if (j === max[1][1]) {\r\n            tempBin.push(2);\r\n          } else {\r\n            tempBin.push(1);\r\n          }\r\n        }\r\n        result.push(tempBin);\r\n      } else {\r\n        if (max[0][1] % 2 === max[1][1] % 2 && max[0][1] % 2 === max[2][1] % 2) {\r\n          let modMem = max[0][1] % 2;\r\n\r\n          max[2] = [0, 0];\r\n          for (j = 0; j < BinArray.length; j++) {\r\n            if (j % 2 === modMem) continue;\r\n            if (BinArray[j] > max[2][0]) {\r\n              max[2][0] = BinArray[j];\r\n              max[2][1] = j;\r\n            }\r\n          }\r\n        }\r\n        wideAvrg = max[0][0] + max[1][0] + max[2][0];\r\n        wideAvrg /= 3;\r\n        for (j = 0; j < max.length; j++) {\r\n          if (max[j][0] / wideAvrg < 0.02 || max[j][0] / wideAvrg > 3) {\r\n            return {\r\n              data: [],\r\n              correction: 0\r\n            };\r\n          }\r\n        }\r\n        let narrow = 0;\r\n\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1] || j === max[1][1] || j === max[2][1]) continue;\r\n          narrow = BinArray[j];\r\n        }\r\n        if (wideAvrg / narrow < 0.02 || wideAvrg / narrow > 3) {\r\n          return {\r\n            data: [],\r\n            correction: 0\r\n          };\r\n        }\r\n        for (j = 0; j < BinArray.length; j++) {\r\n          if (j === max[0][1] || j === max[1][1] || j === max[2][1]) {\r\n            tempBin.push(2);\r\n          } else {\r\n            tempBin.push(1);\r\n          }\r\n        }\r\n        result.push(tempBin);\r\n      }\r\n      for (j = 0; j < tempBin.length; j++) {\r\n        testData += Math.abs(tempBin[j] - (BinArray[j] / sum) * total);\r\n      }\r\n      continue;\r\n    }\r\n    counter = 0;\r\n    while (counter < totalBars) {\r\n      tempBin.push((BinArray[counter] / sum) * total);\r\n      counter++;\r\n    }\r\n    counter = 0;\r\n    while (counter < totalBars) {\r\n      tempBin[counter] = tempBin[counter] > maxLength ? maxLength : tempBin[counter];\r\n      tempBin[counter] = tempBin[counter] < 1 ? 1 : tempBin[counter];\r\n      tempBin[counter] = Math.round(tempBin[counter]);\r\n      counter++;\r\n    }\r\n    if (type === 3) {\r\n      let checking = 0;\r\n\r\n      for (let i = 0; i < tempBin.length; i++) {\r\n        checking += tempBin[i];\r\n      }\r\n      if (checking > 7) {\r\n        max = 0;\r\n        let hitIndex = 0;\r\n\r\n        for (let i = 0; i < tempBin.length; i++) {\r\n          if (tempBin[i] > max) {\r\n            max = tempBin[i];\r\n            hitIndex = i;\r\n          }\r\n        }\r\n        tempBin[hitIndex] = max - (checking - 7);\r\n      }\r\n    }\r\n    if (type === 3) {\r\n      for (i = 0; i < tempBin.length; i++) {\r\n        testData += Math.abs(tempBin[i] - (BinArray[i] / sum) * total);\r\n      }\r\n    }\r\n    result.push(tempBin);\r\n  }\r\n  if (type === 3) {\r\n    return {\r\n      data: result,\r\n      correction: testData\r\n    };\r\n  }\r\n  return result;\r\n  \r\n}\r\n\r\nfunction CheckCode128(string) {\r\n  var checksum = string[string.length - 2].join('');\r\n\r\n  checksum = Code128Encoding.value.indexOf(checksum);\r\n  if (checksum === -1) return false;\r\n  let summarizer = Code128Encoding.value.indexOf(string[0].join(''));\r\n\r\n  if (summarizer === -1) return false;\r\n  let startChar = Code128Encoding[string[0].join('')];\r\n\r\n  if (typeof startChar === 'undefined') return false;\r\n  if (startChar !== 'A' && startChar !== 'B' && startChar !== 'C') return false;\r\n  for (let i = 1; i < (string.length - 2); i++) {\r\n    summarizer += Code128Encoding.value.indexOf(string[i].join('')) * i;\r\n    if (Code128Encoding.value.indexOf(string[i].join('')) === -1) return false;\r\n  }\r\n  return (summarizer % 103 === checksum);\r\n}\r\n\r\nfunction Decode2Of5(string) {\r\n  var result = '';\r\n\r\n  for (let i = 0; i < string.length; i++) {\r\n    if (TwoOfFiveEncoding.indexOf(string[i].join('')) === -1) return false;\r\n    result += TwoOfFiveEncoding.indexOf(string[i].join(''));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction DecodeCodaBar(string) {\r\n  var result = '';\r\n  var start = string[0].join('');\r\n  var end = string[string.length - 1].join('');\r\n\r\n  if (!(CodaBarEncoding[start] === 'A' || CodaBarEncoding[start] === 'B' ||\r\n    CodaBarEncoding[start] === 'C' || CodaBarEncoding[start] === 'D')) {\r\n    return false;\r\n  }\r\n  \r\n  if (!(CodaBarEncoding[end] === 'A' || CodaBarEncoding[end] === 'B' ||\r\n    CodaBarEncoding[end] === 'C' || CodaBarEncoding[end] === 'D')) {\r\n    return false;\r\n  }\r\n\r\n  for (let i = 1; i < string.length - 1; i++) {\r\n    if (typeof CodaBarEncoding[string[i].join('')] === 'undefined') return false;\r\n    result += CodaBarEncoding[string[i].join('')];\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction DecodeEAN13(string) {\r\n  if (string.length !== 12) return false;\r\n  let leftSide = string.slice(0, 6);\r\n  let trigger = false;\r\n  let rightSide = string.slice(6, string.length);\r\n\r\n  for (let i = 0; i < leftSide.length; i++) {\r\n    leftSide[i] = leftSide[i].join('');\r\n    if (leftSide[i].length !== 4) {\r\n      trigger = true;\r\n      break;\r\n    }\r\n  }\r\n  if (trigger) return false;\r\n  for (let i = 0; i < rightSide.length; i++) {\r\n    rightSide[i] = rightSide[i].join('');\r\n    if (rightSide[i].length !== 4) {\r\n      trigger = true;\r\n      break;\r\n    }\r\n  }\r\n  if (trigger) return false;\r\n  let decodeFormat = [];\r\n\r\n  for (let i = 0; i < leftSide.length; i++) {\r\n    if (typeof EAN13Encoding.L[leftSide[i]] !== 'undefined') {\r\n      decodeFormat.push('L');\r\n    } else if (typeof EAN13Encoding.G[leftSide[i]] !== 'undefined') {\r\n      decodeFormat.push('G');\r\n    } else {\r\n      trigger = true;\r\n      break;\r\n    }\r\n  }\r\n  if (trigger) return false;\r\n  let resultArray = [];\r\n\r\n  if (typeof EAN13Encoding.formats[decodeFormat.join('')] === 'undefined') return false;\r\n  resultArray.push(EAN13Encoding.formats[decodeFormat.join('')]);\r\n  for (let i = 0; i < leftSide.length; i++) {\r\n    if (typeof EAN13Encoding[decodeFormat[i]][leftSide[i]] === 'undefined') {\r\n      trigger = true;\r\n      break;\r\n    }\r\n    resultArray.push(EAN13Encoding[decodeFormat[i]][leftSide[i]]);\r\n  }\r\n  if (trigger) return false;\r\n  for (let i = 0; i < rightSide.length; i++) {\r\n    if (typeof EAN13Encoding.R[rightSide[i]] === 'undefined') {\r\n      trigger = true;\r\n      break;\r\n    }\r\n    resultArray.push(EAN13Encoding.R[rightSide[i]]);\r\n  }\r\n  if (trigger) return false;\r\n  let weight = 3;\r\n  let sum = 0;\r\n\r\n  for (let i = resultArray.length - 2; i >= 0; i--) {\r\n    sum += resultArray[i] * weight;\r\n    if (weight === 3) {\r\n      weight = 1;\r\n    } else {\r\n      weight = 3;\r\n    }\r\n  }\r\n  sum = (10 - sum % 10) % 10;\r\n  if (resultArray[resultArray.length - 1] === sum) {\r\n    return resultArray.join('');\r\n  }\r\n  return false;\r\n  \r\n}\r\n\r\nfunction CheckCode93(string) {\r\n  var checkOne = string[string.length - 3].join('');\r\n  var checkTwo = string[string.length - 2].join('');\r\n  var failSafe = true;\r\n\r\n  if (typeof Code93Encoding[checkOne] === 'undefined') return false;\r\n  if (typeof Code93Encoding[checkTwo] === 'undefined') return false;\r\n  let checkSum = Code93Encoding[checkOne].value;\r\n  let weight = 1;\r\n  let sum = 0;\r\n\r\n  for (let i = string.length - 4; i > 0; i--) {\r\n    failSafe = typeof Code93Encoding[string[i].join('')] === 'undefined' ? false : failSafe;\r\n    if (!failSafe) break;\r\n    sum += Code93Encoding[string[i].join('')].value * weight;\r\n    weight++;\r\n    if (weight > 20) weight = 1;\r\n  }\r\n  let firstCheck = sum % 47;\r\n  let firstBool = firstCheck === checkSum;\r\n\r\n  if (!firstBool) return false;\r\n  if (!failSafe) return false;\r\n  sum = firstCheck;\r\n  weight = 2;\r\n  checkSum = Code93Encoding[checkTwo].value;\r\n  for (let i = string.length - 4; i > 0; i--) {\r\n    failSafe = typeof Code93Encoding[string[i].join('')] === 'undefined' ? false : failSafe;\r\n    if (!failSafe) break;\r\n    sum += Code93Encoding[string[i].join('')].value * weight;\r\n    weight++;\r\n    if (weight > 15) weight = 1;\r\n  }\r\n  let secondCheck = sum % 47;\r\n  let secondBool = secondCheck === checkSum;\r\n\r\n  return secondBool && firstBool;\r\n}\r\n\r\nfunction CheckCode39(string) {\r\n  var trigger = true;\r\n\r\n  if (typeof Code39Encoding[string[0].join('')] === 'undefined') return false;\r\n  if (Code39Encoding[string[0].join('')].character !== '*') return false;\r\n  if (typeof Code39Encoding[string[string.length - 1].join('')] === 'undefined') return false;\r\n  if (Code39Encoding[string[string.length - 1].join('')].character !== '*') return false;\r\n\r\n  for (let i = 1; i < string.length - 1; i++) {\r\n    if (typeof Code39Encoding[string[i].join('')] === 'undefined') {\r\n      trigger = false;\r\n      break;\r\n    }\r\n  }\r\n  return trigger;\r\n}\r\n\r\nfunction DecodeCode39(string) {\r\n  var resultString = '';\r\n  var special = false;\r\n  var character = '';\r\n  var specialchar = '';\r\n  var i;\r\n\r\n  for (i = 1; i < string.length - 1; i++) {\r\n    character = Code39Encoding[string[i].join('')].character;\r\n    if (character === '$' || character === '/' || character === '+' || character === '%') {\r\n      // if next character exists => this a special character\r\n      if (i + 1 < string.length - 1) {\r\n        special = true;\r\n        specialchar = character;\r\n        continue;\r\n      }\r\n    }\r\n    if (special) {\r\n      if (typeof ExtendedEncoding[specialchar + character] === 'undefined') {} else {\r\n        resultString += ExtendedEncoding[specialchar + character];\r\n      }\r\n      special = false;\r\n      continue;\r\n    }\r\n    resultString += character;\r\n  }\r\n  return resultString;\r\n}\r\n\r\nfunction DecodeCode93(string) {\r\n  var resultString = '';\r\n  var special = false;\r\n  var character = '';\r\n  var specialchar = '';\r\n\r\n  for (let i = 1; i < string.length - 3; i++) {\r\n    character = Code93Encoding[string[i].join('')].character;\r\n    if (character === '($)' || character === '(/)' || character === '(+)' || character === '(%)') {\r\n      special = true;\r\n      specialchar = character[1];\r\n      continue;\r\n    }\r\n    if (special) {\r\n      if (typeof ExtendedEncoding[specialchar + character] === 'undefined') {} else {\r\n        resultString += ExtendedEncoding[specialchar + character];\r\n      }\r\n      special = false;\r\n      continue;\r\n    }\r\n    resultString += character;\r\n  }\r\n  return resultString;\r\n}\r\n\r\nfunction DecodeCode128(string) {\r\n  var set = Code128Encoding[string[0].join('')];\r\n  var symbol;\r\n  var Code128Format = 'Code128';\r\n  var resultString = '';\r\n  var i;\r\n\r\n  for (i = 1; i < (string.length - 2); i++) {\r\n    symbol = Code128Encoding[string[i].join('')][set];\r\n    switch (symbol) {\r\n      case 'FNC1':\r\n        if (i === 1) Code128Format = 'GS1-128';\r\n        break;\r\n      case 'FNC2':\r\n      case 'FNC3':\r\n      case 'FNC4':\r\n        break;\r\n      case 'SHIFT_B':\r\n        i++;\r\n        resultString += Code128Encoding[string[i].join('')].B;\r\n        break;\r\n      case 'SHIFT_A':\r\n        i++;\r\n        resultString += Code128Encoding[string[i].join('')].A;\r\n        break;\r\n      case 'Code_A':\r\n        set = 'A';\r\n        break;\r\n      case 'Code_B':\r\n        set = 'B';\r\n        break;\r\n      case 'Code_C':\r\n        set = 'C';\r\n        break;\r\n      default:\r\n        resultString += symbol;\r\n    }\r\n  }\r\n  return {\r\n    string: resultString,\r\n    format: Code128Format\r\n  };\r\n}\r\n\r\nfunction BinaryString(img, type) {\r\n  var binaryString = [];\r\n  var binTemp = [];\r\n  var container = 255;\r\n  var count = 0;\r\n  var format;\r\n  var tempString;\r\n  var j, i;\r\n  var corrections;\r\n\r\n  for (j = 0; j < img.length - Image.width * 4; j += Image.width * 4) {\r\n    let SlicedArray = img.subarray(j, j + Image.width * 4);\r\n\r\n    binaryString = [];\r\n    i = 0;\r\n    while (SlicedArray[i] === 255) {\r\n      i += 4;\r\n    }\r\n    while (i < SlicedArray.length) {\r\n      count = 0;\r\n      container = SlicedArray[i];\r\n      while (SlicedArray[i] === container && i < SlicedArray.length) {\r\n        count++;\r\n        i += 4;\r\n      }\r\n      binaryString.push(count);\r\n    }\r\n    if (binaryString.length > 2 && binaryString[0] <= binaryString[1] / 10) {\r\n      binaryString.splice(0, 2);\r\n    }\r\n    let binaryHolder = binaryString.slice();\r\n    let success = false;\r\n\r\n    for (i = 0; i < FormatPriority.length; i++) {\r\n      binaryString = binaryHolder.slice();\r\n      let first;\r\n      let second;\r\n\r\n      binaryString = BinaryConfiguration(binaryString, FormatPriority[i]);\r\n      if (FormatPriority[i] === '2Of5' || FormatPriority[i] === 'Inter2Of5') {\r\n        first = binaryString.splice(0, 1)[0];\r\n        second = binaryString.splice(binaryString.length - 1, 1)[0];\r\n      }\r\n      binTemp = Distribution(binaryString, FormatPriority[i]);\r\n      if (FormatPriority[i] === 'EAN-13') {\r\n        binaryString = binTemp.data;\r\n        corrections = binTemp.correction;\r\n      } else {\r\n        binaryString = binTemp;\r\n      }\r\n      if (typeof binaryString === 'undefined') continue;\r\n      if (binaryString.length > 4 || (FormatPriority[i] === 'Code39' && binaryString.length > 2)) {\r\n        if (FormatPriority[i] === 'Code128') {\r\n          if (CheckCode128(binaryString)) {\r\n            binaryString = DecodeCode128(binaryString);\r\n            success = true;\r\n          }\r\n        } else if (FormatPriority[i] === 'Code93') {\r\n          if (CheckCode93(binaryString)) {\r\n            binaryString = DecodeCode93(binaryString);\r\n            success = true;\r\n          }\r\n        } else if (FormatPriority[i] === 'Code39') {\r\n          if (CheckCode39(binaryString)) {\r\n            binaryString = DecodeCode39(binaryString);\r\n            success = true;\r\n          }\r\n        } else if (FormatPriority[i] === 'EAN-13') {\r\n          tempString = DecodeEAN13(binaryString);\r\n          if (tempString) {\r\n            if (tempString.length === 13) {\r\n              binaryString = tempString;\r\n              success = true;\r\n            }\r\n          }\r\n        } else if (FormatPriority[i] === '2Of5' || FormatPriority[i] === 'Inter2Of5') {\r\n          if (FormatPriority[i] === '2Of5') {\r\n            if (typeof first !== 'undefined') {if (!TwoOfFiveStartEnd(first, true)) continue;}\r\n            if (typeof second !== 'undefined') {if (!TwoOfFiveStartEnd(second, false)) continue;}\r\n          }\r\n          if (FormatPriority[i] === 'Inter2Of5') {\r\n            if (typeof first !== 'undefined') {if (!CheckInterleaved(first, true)) continue;}\r\n            if (typeof second !== 'undefined') {if (!CheckInterleaved(second, false)) continue;}\r\n          }\r\n          tempString = Decode2Of5(binaryString);\r\n          if (tempString) {\r\n            binaryString = tempString;\r\n            success = true;\r\n          }\r\n        } else if (FormatPriority[i] === 'Codabar') {\r\n          tempString = DecodeCodaBar(binaryString);\r\n          if (tempString) {\r\n            binaryString = tempString;\r\n            success = true;\r\n          }\r\n        }\r\n      }\r\n      if (success) {\r\n        format = FormatPriority[i];\r\n        if (format === 'Inter2Of5') format = 'Interleaved 2 of 5';\r\n        if (format === '2Of5') format = 'Standard 2 of 5';\r\n        break;\r\n      }\r\n    }\r\n    if (success) break;\r\n  }\r\n  if (format === 'Code128') {\r\n    if (typeof binaryString.string === 'string') {\r\n      return binaryString;\r\n    }\r\n    return {\r\n      string: false\r\n    };\r\n    \r\n  }\r\n  if (typeof binaryString === 'string') {\r\n    if (format === 'EAN-13') {\r\n      return {\r\n        string: binaryString,\r\n        format: format,\r\n        correction: corrections\r\n      };\r\n    }\r\n    return {\r\n      string: binaryString,\r\n      format: format\r\n    };\r\n    \r\n  }\r\n  return {\r\n    string: false\r\n  };\r\n  \r\n}\r\n\r\nfunction Main() {\r\n  var allResults = [];\r\n  var tempObj;\r\n  var tempData;\r\n  var hist;\r\n  var val;\r\n  var thresh;\r\n  var start;\r\n  var end;\r\n  var z, i;\r\n\r\n  ImgProcessing();\r\n\r\n  for (z = 0; z < allTables.length; z++) {\r\n    Image = allTables[z];\r\n    let scaled = ScaleHeight(30);\r\n    let variationData;\r\n    let incrmt = 0;\r\n    let format = '';\r\n    let eanStatistics = {};\r\n    let eanOrder = [];\r\n    let Selection = false;\r\n\r\n    do {\r\n      tempData = scaled.subarray(incrmt, incrmt + Image.width * 4);\r\n      hist = [];\r\n      for (i = 0; i < 256; i++) {\r\n        hist[i] = 0;\r\n      }\r\n      for (i = 0; i < tempData.length; i += 4) {\r\n        val = Math.round((tempData[i] + tempData[i + 1] + tempData[i + 2]) / 3);\r\n        hist[val] = hist[val] + 1;\r\n      }\r\n      thresh = otsu(hist, tempData.length / 4);\r\n      start = thresh < 41 ? 1 : thresh - 40;\r\n      end = thresh > 254 - 40 ? 254 : thresh + 40;\r\n      variationData = yStraighten(tempData, start, end);\r\n      Selection = BinaryString(variationData);\r\n      if (Selection.string) {\r\n        format = Selection.format;\r\n        tempObj = Selection;\r\n        Selection = Selection.string;\r\n        if (format === 'EAN-13') {\r\n          if (typeof eanStatistics[Selection] === 'undefined') {\r\n            eanStatistics[Selection] = {\r\n              count: 1,\r\n              correction: tempObj.correction\r\n            };\r\n            eanOrder.push(Selection);\r\n          } else {\r\n            eanStatistics[Selection].count = eanStatistics[Selection].count + 1;\r\n            eanStatistics[Selection].correction = eanStatistics[Selection].correction + tempObj.correction;\r\n          }\r\n          Selection = false;\r\n        }\r\n      } else {\r\n        Selection = false;\r\n      }\r\n      incrmt += Image.width * 4;\r\n    } while (!Selection && incrmt < scaled.length);\r\n    if (Selection && format !== 'EAN-13') {\r\n      allResults.push({\r\n        Format: format,\r\n        Value: Selection,\r\n        bBox: Locations[z],\r\n      });\r\n    }\r\n    if (format === 'EAN-13') Selection = false;\r\n    if (!Selection) {\r\n      EnlargeTable(4, 2);\r\n      incrmt = 0;\r\n      scaled = ScaleHeight(20);\r\n      do {\r\n        tempData = scaled.subarray(incrmt, incrmt + Image.width * 4);\r\n        hist = [];\r\n        for (i = 0; i < 256; i++) {\r\n          hist[i] = 0;\r\n        }\r\n        for (i = 0; i < tempData.length; i += 4) {\r\n          val = Math.round((tempData[i] + tempData[i + 1] + tempData[i + 2]) / 3);\r\n          hist[val] = hist[val] + 1;\r\n        }\r\n        thresh = otsu(hist, tempData.length / 4);\r\n        start = thresh < 40 ? 0 : thresh - 40;\r\n        end = thresh > 255 - 40 ? 255 : thresh + 40;\r\n        variationData = yStraighten(tempData, start, end);\r\n        Selection = BinaryString(variationData);\r\n        if (Selection.string) {\r\n          format = Selection.format;\r\n          tempObj = Selection;\r\n          Selection = Selection.string;\r\n          if (format === 'EAN-13') {\r\n            if (typeof eanStatistics[Selection] === 'undefined') {\r\n              eanStatistics[Selection] = {\r\n                count: 1,\r\n                correction: tempObj.correction\r\n              };\r\n              eanOrder.push(Selection);\r\n            } else {\r\n              eanStatistics[Selection].count = eanStatistics[Selection].count + 1;\r\n              eanStatistics[Selection].correction = eanStatistics[Selection].correction + tempObj.correction;\r\n            }\r\n            Selection = false;\r\n          }\r\n        } else {\r\n          Selection = false;\r\n        }\r\n        incrmt += Image.width * 4;\r\n      } while (!Selection && incrmt < scaled.length);\r\n\r\n      if (format === 'EAN-13') {\r\n        let points = {};\r\n        let key;\r\n\r\n        for (key in eanStatistics) {\r\n          eanStatistics[key].correction = eanStatistics[key].correction / eanStatistics[key].count;\r\n          let pointTemp = eanStatistics[key].correction;\r\n\r\n          pointTemp -= eanStatistics[key].count;\r\n          pointTemp += eanOrder.indexOf(key);\r\n          points[key] = pointTemp;\r\n        }\r\n\r\n        let minPoints = Number.POSITIVE_INFINITY;\r\n        let tempString = '';\r\n\r\n        for (let point in points) {\r\n          if (points[point] < minPoints) {\r\n            minPoints = points[point];\r\n            tempString = key;\r\n          }\r\n        }\r\n        if (minPoints < 11) {\r\n          Selection = tempString;\r\n        } else {\r\n          Selection = false;\r\n        }\r\n      }\r\n\r\n      if (Selection) {\r\n        allResults.push({\r\n          Format: format,\r\n          Value: Selection,\r\n          bBox: Locations[z],\r\n        });\r\n      }\r\n    }\r\n    if (allResults.length > 0 && !Multiple) break;\r\n  }\r\n  return allResults;\r\n}\r\n\r\nself.onmessage = (e) => {\r\n  var width;\r\n  var decodeFormats;\r\n\r\n  ScanImage = {\r\n    data: new Uint8ClampedArray(e.data.scan),\r\n    width: e.data.scanWidth,\r\n    height: e.data.scanHeight\r\n  };\r\n  switch (e.data.rotation) {\r\n    case 8:\r\n      ScanImage.data = Rotate(ScanImage.data, ScanImage.width, ScanImage.height, -90);\r\n      width = e.data.scanWidth;\r\n      ScanImage.width = ScanImage.height;\r\n      ScanImage.height = width;\r\n      break;\r\n    case 6:\r\n      ScanImage.data = Rotate(ScanImage.data, ScanImage.width, ScanImage.height, 90);\r\n      width = e.data.scanWidth;\r\n      ScanImage.width = ScanImage.height;\r\n      ScanImage.height = width;\r\n      break;\r\n    case 3:\r\n      ScanImage.data = Rotate(ScanImage.data, ScanImage.width, ScanImage.height, 180);\r\n  }\r\n  Image = {\r\n    data: Scale(ScanImage.data, ScanImage.width, ScanImage.height),\r\n    width: ScanImage.width / 2,\r\n    height: ScanImage.height / 2\r\n  };\r\n  if (e.data.postOrientation) {\r\n    postMessage({\r\n      result: Image,\r\n      success: 'orientationData'\r\n    });\r\n  }\r\n  \r\n  FormatPriority = [];\r\n  Multiple = true;\r\n  \r\n  if (typeof e.data.multiple !== 'undefined') {\r\n    Multiple = e.data.multiple;\r\n  }\r\n\r\n  if (typeof e.data.decodeFormats !== 'undefined') {\r\n    decodeFormats = e.data.decodeFormats;\r\n  } else {\r\n    decodeFormats = availableFormats;\r\n  }\r\n  \r\n  for (let i = 0; i < decodeFormats.length; i++) {\r\n    FormatPriority.push(decodeFormats[i]);\r\n  }\r\n\r\n  Locations = [];\r\n  CreateTable();\r\n  CreateScanTable();\r\n\r\n  let FinalResult = Main();\r\n\r\n  if (FinalResult.length > 0) {\r\n    postMessage({\r\n      id: e.data.id,\r\n      result: FinalResult,\r\n      success: true\r\n    });\r\n  } else {\r\n    postMessage({\r\n      id: e.data.id,\r\n      result: FinalResult,\r\n      success: false\r\n    });\r\n  }\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/DecoderWorker.js"],"sourceRoot":""}